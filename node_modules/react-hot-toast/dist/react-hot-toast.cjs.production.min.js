"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=require("react"),t=require("goober");function e(){return(e=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}function r(n,t){return t||(t=n.slice(0)),n.raw=t,n}var o,i=function(n,t){return function(n){return"function"==typeof n}(n)?n(t):n},a=function(){var n=0;return function(){return(++n).toString()}}();(o=exports.ActionType||(exports.ActionType={}))[o.ADD_TOAST=0]="ADD_TOAST",o[o.UPDATE_TOAST=1]="UPDATE_TOAST",o[o.UPSERT_TOAST=2]="UPSERT_TOAST",o[o.DISMISS_TOAST=3]="DISMISS_TOAST",o[o.REMOVE_TOAST=4]="REMOVE_TOAST",o[o.START_PAUSE=5]="START_PAUSE",o[o.END_PAUSE=6]="END_PAUSE";var s=[],u={toasts:[],pausedAt:void 0},c=function(n){u=function n(t,r){switch(r.type){case exports.ActionType.ADD_TOAST:return e({},t,{toasts:[r.toast].concat(t.toasts).slice(0,20)});case exports.ActionType.UPDATE_TOAST:return e({},t,{toasts:t.toasts.map((function(n){return n.id===r.toast.id?e({},n,r.toast):n}))});case exports.ActionType.UPSERT_TOAST:var o=r.toast;return t.toasts.find((function(n){return n.id===o.id}))?n(t,{type:exports.ActionType.UPDATE_TOAST,toast:o}):n(t,{type:exports.ActionType.ADD_TOAST,toast:o});case exports.ActionType.DISMISS_TOAST:return e({},t,{toasts:t.toasts.map((function(n){return n.id===r.toastId||void 0===r.toastId?e({},n,{visible:!1}):n}))});case exports.ActionType.REMOVE_TOAST:return e({},t,void 0===r.toastId?{toasts:[]}:{toasts:t.toasts.filter((function(n){return n.id!==r.toastId}))});case exports.ActionType.START_PAUSE:return e({},t,{pausedAt:r.time});case exports.ActionType.END_PAUSE:var i=r.time-(t.pausedAt||0);return e({},t,{pausedAt:void 0,toasts:t.toasts.map((function(n){return e({},n,{pauseDuration:n.pauseDuration+i})}))})}}(u,n),s.forEach((function(n){n(u)}))},f={blank:4e3,error:4e3,success:2e3,loading:3e4},p=function(t){void 0===t&&(t={});var r=n.useState(u),o=r[0],i=r[1];n.useEffect((function(){return s.push(i),function(){var n=s.indexOf(i);n>-1&&s.splice(n,1)}}),[o]);var a=o.toasts.map((function(n){var r,o,i;return e({},t,t[n.type],n,{duration:n.duration||(null==(r=t[n.type])?void 0:r.duration)||(null==(o=t)?void 0:o.duration)||f[n.type],style:e({},t.style,null==(i=t[n.type])?void 0:i.style,n.style)})}));return e({},o,{toasts:a})},d=function(n){return function(t,r){var o=function(n,t,r){return void 0===t&&(t="blank"),e({id:(null==r?void 0:r.id)||a(),createdAt:Date.now(),visible:!0,type:t,role:"status",ariaLive:"polite",message:n,pauseDuration:0},r)}(t,n,r);return c({type:exports.ActionType.UPSERT_TOAST,toast:o}),o.id}},l=function(n,t){return d("blank")(n,t)};l.error=d("error"),l.success=d("success"),l.loading=d("loading"),l.dismiss=function(n){c({type:exports.ActionType.DISMISS_TOAST,toastId:n}),setTimeout((function(){c({type:exports.ActionType.REMOVE_TOAST,toastId:n})}),1e3)},l.remove=function(n){return c({type:exports.ActionType.REMOVE_TOAST,toastId:n})},l.promise=function(n,t,r){var o=l.loading(t.loading,e({},r,null==r?void 0:r.loading));return n.then((function(n){return l.success(i(t.success,n),e({id:o},r,null==r?void 0:r.success)),n})).catch((function(n){l.error(i(t.error,n),e({id:o},r,null==r?void 0:r.error))})),n};var m=function(t){var e=p(t),r=e.toasts,o=e.pausedAt,i=r.filter((function(n){return n.visible}));n.useEffect((function(){if(!o){var n=Date.now(),t=r.map((function(t){var e=(t.duration||0)+t.pauseDuration-(n-t.createdAt);if(!(e<0))return setTimeout((function(){return l.dismiss(t.id)}),e);t.visible&&l.dismiss(t.id)}));return function(){t.forEach((function(n){return n&&clearTimeout(n)}))}}}),[r,o]);var a=n.useMemo((function(){return{startPause:function(){c({type:exports.ActionType.START_PAUSE,time:Date.now()})},endPause:function(){o&&c({type:exports.ActionType.END_PAUSE,time:Date.now()})},updateHeight:function(n,t){return c({type:exports.ActionType.UPDATE_TOAST,toast:{id:n,height:t}})},calculateOffset:function(n,t){var e=t||{},r=e.reverseOrder,o=void 0!==r&&r,a=e.margin,s=void 0===a?8:a,u=i.findIndex((function(t){return t.id===n}));return-1!==u?i.slice.apply(i,o?[u+1]:[0,u]).reduce((function(n,t){return n+(t.height||0)+s}),0):0}}}),[i,o]);return{toasts:r,visibleToasts:i,handlers:a}};function y(){var n=r(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"]);return y=function(){return n},n}function v(){var n=r(["\n  from {\n    transform: scale(0) rotate(90deg);\n\t opacity: 0;\n  }\n\n  to {\n    transform: scale(1) rotate(90deg);\n\t opacity: 1;\n  }\n"]);return v=function(){return n},n}function T(){var n=r(["\n  from {\n    transform: scale(0);\n\t opacity: 0;\n  }\n\n  to {\n    transform: scale(1);\n\t opacity: 1;\n  }\n"]);return T=function(){return n},n}function x(){var n=r(["\n  from {\n    transform: scale(0) rotate(45deg);\n\t opacity: 0;\n  }\n\n  to {\n    transform: scale(1) rotate(45deg);\n\t opacity: 1;\n  }\n"]);return x=function(){return n},n}var g=t.keyframes(x()),A=t.keyframes(T()),h=t.keyframes(v()),b=t.styled("div")(y(),(function(n){return n.primary||"#ff4b4b"}),g,A,(function(n){return n.secondary||"#fff"}),h);function S(){var n=r(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"]);return S=function(){return n},n}function E(){var n=r(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]);return E=function(){return n},n}var O=t.keyframes(E()),_=t.styled("div")(S(),(function(n){return n.secondary||"#e0e0e0"}),(function(n){return n.primary||"#616161"}),O);function D(){var n=r(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"]);return D=function(){return n},n}function w(){var n=r(["\n  0% {\n\t\theight: 0;\n\t\twidth: 0;\n\t\topacity: 0;\n  }\n\n  40% {\n\t\theight: 0;\n\t\twidth: 6px;\n\t\topacity: 1;\n  }\n\n  100% {\n    opacity: 1;\n\t\theight: 10px;\n  }\n"]);return w=function(){return n},n}function P(){var n=r(["\n  from {\n    transform: scale(0) rotate(45deg);\n\t opacity: 0;\n  }\n\n  to {\n    transform: scale(1) rotate(45deg);\n\t opacity: 1;\n  }\n"]);return P=function(){return n},n}var k=t.keyframes(P()),I=t.keyframes(w()),U=t.styled("div")(D(),(function(n){return n.primary||"#61d345"}),k,I,(function(n){return n.secondary||"#fff"}));function R(){var n=r(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]);return R=function(){return n},n}function M(){var n=r(["\n  position: absolute;\n"]);return M=function(){return n},n}var z=t.styled("div")(M()),j=t.styled("div")(R()),N=function(t){var e=t.type,r=t.theme;return"blank"===e?null:n.createElement(j,null,n.createElement(_,Object.assign({},r)),"loading"!==e&&n.createElement(z,null,n.createElement("error"===e?b:U,Object.assign({},r))))};function V(){var n=r(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"]);return V=function(){return n},n}function C(){var n=r(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\n\nto {\n  transform: scale(1);\n  opacity: 1;\n}\n"]);return C=function(){return n},n}var H=t.keyframes(C()),L=t.styled("div")(V(),H);function q(){var n=r(["",""]);return q=function(){return n},n}function B(){var n=r(["",""]);return B=function(){return n},n}function Y(){var n=r(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1;\n"]);return Y=function(){return n},n}function F(){var n=r(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  margin: 16px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]);return F=function(){return n},n}var G=function(n){return"\n0% {transform: translate3d(0,"+-80*n+"px,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"},J=function(n){return"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,"+-130*n+"px,-1px) scale(.5); opacity:0;}\n"},K=t.styled("div",n.forwardRef)(F()),Q=t.styled("div")(Y()),W=n.memo((function(r){var o,a,s,u=r.toast,c=r.position,f=function(n,t){if(null==n)return{};var e,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)t.indexOf(e=i[r])>=0||(o[e]=n[e]);return o}(r,["toast","position"]),p=n.useCallback((function(n){n&&setTimeout((function(){var t=n.getBoundingClientRect();f.onHeight(t.height)}))}),[]),d=function(n,t){var r=n.includes("top");return e({position:"fixed",transition:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY("+t*(r?1:-1)+"px)"},r?{top:0}:{bottom:0},n.includes("left")?{left:0}:n.includes("right")?{right:0}:{left:0,pointerEvents:"none",right:0,justifyContent:"center"})}(c,f.offset),l=null!=u&&u.height?function(n,e){var r=n.includes("top")?1:-1;return e?{animation:t.keyframes(B(),G(r))+" 0.35s cubic-bezier(.21,1.02,.73,1) forwards"}:{animation:t.keyframes(q(),J(r))+" 0.8s forwards cubic-bezier(.06,.71,.55,1)",pointerEvents:"none"}}(c,u.visible):{opacity:0};return n.createElement("div",{style:e({display:"flex",zIndex:u.visible?9999:void 0},d)},n.createElement(K,{ref:p,className:u.className,style:e({},l,u.style)},(a=u.type,s=u.iconTheme,void 0!==(o=u.icon)?"string"==typeof o?n.createElement(L,null,o):o:n.createElement(N,{theme:s,type:a})),n.createElement(Q,{role:u.role,"aria-live":u.ariaLive},i(u.message,u))))}));t.setup(n.createElement),exports.CheckmarkIcon=U,exports.ErrorIcon=b,exports.LoaderIcon=_,exports.ToastBar=W,exports.Toaster=function(t){var r=t.reverseOrder,o=t.position,i=void 0===o?"top-center":o,a=t.containerStyle,s=m(t.toastOptions),u=s.toasts,c=s.handlers;return n.createElement("div",{style:e({position:"fixed",zIndex:9999},a),onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map((function(t){return n.createElement(W,{key:t.id,onHeight:function(n){return c.updateHeight(t.id,n)},toast:t,offset:c.calculateOffset(t.id,{reverseOrder:r}),position:i})})))},exports.default=l,exports.dispatch=c,exports.toast=l,exports.useToaster=m,exports.useToasterStore=p;
//# sourceMappingURL=react-hot-toast.cjs.production.min.js.map
