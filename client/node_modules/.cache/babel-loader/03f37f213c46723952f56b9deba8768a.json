{"ast":null,"code":"import ACTIONS from './index';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from 'react-redux';\nconst token = localStorage.getItem('token');\nexport const createAction = postData => {\n  return async (dispatch, getState) => {\n    dispatch({\n      type: ACTIONS.SET_lOADER\n    });\n\n    try {\n      console.log('data');\n      const {\n        data\n      } = await axios.post('/api/admin/posts/new', postData, {\n        headers: {\n          'content-type': 'multipart/form-data',\n          Authorization: token\n        }\n      });\n      dispatch({\n        type: ACTIONS.SET_LOADER\n      });\n      console.log(data);\n    } catch (error) {\n      const {\n        errors\n      } = error.response.data;\n      console.log(error.response);\n      console.log(errors);\n      dispatch({\n        type: ACTIONS.SET_LOADER\n      });\n      dispatch({\n        type: ACTIONS.CREATE_ERRORS,\n        payload: errors\n      });\n    }\n  };\n};","map":{"version":3,"sources":["C:/Users/Admin/Desktop/tlcn7/tlcn/client/src/components/redux/actions/postAction.js"],"names":["ACTIONS","axios","useDispatch","useSelector","token","localStorage","getItem","createAction","postData","dispatch","getState","type","SET_lOADER","console","log","data","post","headers","Authorization","SET_LOADER","error","errors","response","CREATE_ERRORS","payload"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,SAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AAGA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,OAAO,MAAMC,YAAY,GAAIC,QAAD,IAAc;AAEtC,SAAO,OAAOC,QAAP,EAAiBC,QAAjB,KAA6B;AAChCD,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAAEX,OAAO,CAACY;AAAf,KAAD,CAAR;;AACA,QAAI;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,YAAM;AAACC,QAAAA;AAAD,UAAS,MAAMd,KAAK,CAACe,IAAN,CAAW,sBAAX,EAAmCR,QAAnC,EAA6C;AAC9DS,QAAAA,OAAO,EAAE;AAAC,0BAAgB,qBAAjB;AAAwCC,UAAAA,aAAa,EAAEd;AAAvD;AADqD,OAA7C,CAArB;AAGAK,MAAAA,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAAEX,OAAO,CAACmB;AAAf,OAAD,CAAR;AAEAN,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACH,KARD,CAQE,OAAOK,KAAP,EAAc;AACZ,YAAM;AAAEC,QAAAA;AAAF,UAAaD,KAAK,CAACE,QAAN,CAAeP,IAAlC;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAYM,KAAK,CAACE,QAAlB;AACAT,MAAAA,OAAO,CAACC,GAAR,CAAYO,MAAZ;AACAZ,MAAAA,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAAEX,OAAO,CAACmB;AAAf,OAAD,CAAR;AACAV,MAAAA,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAAEX,OAAO,CAACuB,aAAf;AAA8BC,QAAAA,OAAO,EAAEH;AAAvC,OAAD,CAAR;AAEH;AACJ,GAlBD;AAoBH,CAtBM","sourcesContent":["import ACTIONS from './index'\r\nimport axios from 'axios'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\n\r\n\r\nconst token = localStorage.getItem('token')\r\nexport const createAction = (postData) => {\r\n\r\n    return async (dispatch, getState) =>{\r\n        dispatch({type: ACTIONS.SET_lOADER});\r\n        try {\r\n            console.log('data')\r\n            const {data} = await axios.post('/api/admin/posts/new', postData, {\r\n                headers: {'content-type': 'multipart/form-data', Authorization: token}\r\n            });\r\n            dispatch({type: ACTIONS.SET_LOADER});\r\n\r\n            console.log(data);\r\n        } catch (error) {\r\n            const { errors } = error.response.data;\r\n            console.log(error.response);\r\n            console.log(errors);\r\n            dispatch({type: ACTIONS.SET_LOADER});\r\n            dispatch({type: ACTIONS.CREATE_ERRORS, payload: errors});\r\n\r\n        }\r\n    }\r\n\r\n};"]},"metadata":{},"sourceType":"module"}