{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thu26\\\\Desktop\\\\test\\\\test1234\\\\tlcn\\\\tlcn\\\\client\\\\src\\\\components\\\\mainpages\\\\admin\\\\TypePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport { GlobalState } from '../../../GlobalState';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport './css/alluser.css';\nimport './css/category.css';\nimport { Link } from 'react-router-dom';\nimport { Row, Col } from 'antd';\nimport { showSuccessMsg, showErrMsg } from '../utils/notification/Notification';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction TypePage() {\n  _s();\n\n  const state = useContext(GlobalState);\n  console.log(state);\n  const [typePage] = state.categoriesAPI.typePage;\n  const [type, setType] = useState('');\n  const token = useSelector(state => state.token);\n  const [callback, setCallback] = state.categoriesAPI.callback;\n  const [onEdit, setOnEdit] = useState(false);\n  const [id, setID] = useState('');\n  const [err, setErr] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const createType = async e => {\n    e.preventDefault();\n\n    try {\n      if (onEdit) {\n        const res = await axios.put(`/api/typepage/${id}`, {\n          name: type\n        }, {\n          headers: {\n            Authorization: token\n          }\n        });\n        setSuccess('Update is successful');\n      } else {\n        const res = await axios.post('/api/typepage', {\n          name: type\n        }, {\n          headers: {\n            Authorization: token\n          }\n        });\n        setSuccess('Create is successful');\n      }\n\n      setOnEdit(false);\n      setType('');\n      setCallback(!callback);\n    } catch (err) {\n      alert(err.response.data.msg);\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [success && showSuccessMsg('success', success), err && showErrMsg('error', err)]\n    }, void 0, true);\n  };\n\n  const editType = async (id, name) => {\n    setID(id);\n    setType(name);\n    setOnEdit(true);\n    setSuccess('Update is successful');\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [success && showSuccessMsg('success', success), err && showErrMsg('error', err)]\n    }, void 0, true);\n  };\n\n  const deleteType = async id => {\n    try {\n      const res = await axios.delete(`/api/typepage/${id}`, {\n        headers: {\n          Authorization: token\n        }\n      });\n      setSuccess('Delete is successful');\n      setCallback(!callback);\n    } catch (err) {\n      setErr(err.response.data.msg);\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [success && showSuccessMsg('success', success), err && showErrMsg('error', err)]\n    }, void 0, true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n}\n\n_s(TypePage, \"7PLWWw1RzxEnPzyU8jyWPzU8wxE=\", false, function () {\n  return [useSelector];\n});\n\n_c = TypePage;\nexport default TypePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"TypePage\");","map":{"version":3,"sources":["C:/Users/thu26/Desktop/test/test1234/tlcn/tlcn/client/src/components/mainpages/admin/TypePage.js"],"names":["React","useState","useContext","GlobalState","axios","useSelector","Link","Row","Col","showSuccessMsg","showErrMsg","TypePage","state","console","log","typePage","categoriesAPI","type","setType","token","callback","setCallback","onEdit","setOnEdit","id","setID","err","setErr","success","setSuccess","createType","e","preventDefault","res","put","name","headers","Authorization","post","alert","response","data","msg","editType","deleteType","delete"],"mappings":"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","sourcesContent":["import React, {useState, useContext} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport axios from 'axios'\r\nimport {useSelector} from 'react-redux'\r\nimport './css/alluser.css'\r\nimport './css/category.css'\r\nimport {Link} from 'react-router-dom'\r\nimport { Row, Col } from 'antd';\r\nimport {showSuccessMsg, showErrMsg} from '../utils/notification/Notification'\r\n\r\nfunction TypePage() {\r\n    const state = useContext(GlobalState)\r\n    console.log(state)\r\n    const [typePage] = state.categoriesAPI.typePage\r\n    const [type, setType] = useState('')\r\n\r\n    const token = useSelector(state => state.token)\r\n    const [callback, setCallback] = state.categoriesAPI.callback\r\n    const [onEdit, setOnEdit] = useState(false)\r\n    const [id, setID] = useState('')\r\n\r\n    const [err, setErr] = useState(false)\r\n    const [success, setSuccess] = useState(false)\r\n\r\n    const createType = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            if(onEdit){\r\n                const res = await axios.put(`/api/typepage/${id}`, {name: type}, {\r\n                    headers: {Authorization: token}\r\n                })\r\n                setSuccess('Update is successful')\r\n            }else{\r\n                const res = await axios.post('/api/typepage', {name: type}, {\r\n                    headers: {Authorization: token}\r\n                })\r\n                setSuccess('Create is successful')\r\n            }\r\n            setOnEdit(false)\r\n            setType('') \r\n            setCallback(!callback)\r\n            \r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n\r\n        return <>\r\n        {success && showSuccessMsg('success',success)}\r\n        {err && showErrMsg('error',err)}\r\n        </>\r\n    }\r\n\r\n\r\n    const editType = async (id, name) =>{\r\n        setID(id)\r\n        setType(name)\r\n        setOnEdit(true)\r\n        setSuccess('Update is successful')\r\n\r\n        return <>\r\n        {success && showSuccessMsg('success',success)}\r\n        {err && showErrMsg('error',err)}\r\n        </>\r\n    }\r\n\r\n    const deleteType = async id =>{\r\n        try {\r\n            const res = await axios.delete(`/api/typepage/${id}`, {\r\n                headers: {Authorization: token}\r\n            })\r\n            setSuccess('Delete is successful')\r\n            setCallback(!callback)\r\n        } catch (err) {\r\n            setErr(err.response.data.msg)\r\n        }\r\n        return <>\r\n        {success && showSuccessMsg('success',success)}\r\n        {err && showErrMsg('error',err)}\r\n        </>\r\n    }\r\n    return (\r\n        <div>\r\n            \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TypePage;"]},"metadata":{},"sourceType":"module"}