{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MyPC\\\\Desktop\\\\tlcn\\\\client\\\\src\\\\components\\\\mainpages\\\\posts\\\\FilterPost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from 'react';\nimport { GlobalState } from '../../../GlobalState';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction FilterPost() {\n  _s();\n\n  const state = useContext(GlobalState);\n  const [posts, setPosts] = state.myPostsAPI.posts;\n  const [topics] = state.topicsAPI.topics;\n  const [all, setALL] = state.myPostsAPI.all;\n  const [numPostByTopic, setNumPostByTopic] = state.myPostsAPI.numPostByTopic;\n  const history = useHistory();\n\n  const handleFilter = async text => {\n    /*         if(location !== '/news')\r\n            {\r\n                localStorage.setItem('text', text)\r\n                window.location.href = \"/news\";\r\n            }\r\n            else if(location === '/news'){\r\n                localStorage.removeItem('text')\r\n                setFilter(text)\r\n                console.log({filter})\r\n                console.log({text})\r\n            } */\n    const res = await axios.get(`/api/posts${text}`);\n    setPosts(res.data.posts);\n    history.push(\"/news\");\n  };\n  /*     const handleFilterAll = async (text) => {\r\n          if(location === '/news')\r\n          {\r\n              localStorage.removeItem('text')\r\n              setFilter(text)\r\n              console.log({filter})\r\n              console.log({text})\r\n          }\r\n      } */\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"mt-20 text-4xl\",\n      children: \"Chuy\\xEAn m\\u1EE5c\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"px-4 py-6 bg-white rounded-lg shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        onClick: () => handleFilter(\"\"),\n        children: /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"px-1 py-4 border-b border-t border-white hover:border-gray-200 transition duration-300\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            className: \"flex items-center text-gray-600 cursor-pointer\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"inline-block h-4 w-4 bg-pink-400 mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 21\n            }, this), \"T\\u1EA5t c\\u1EA3 b\\xE0i vi\\u1EBFt\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500 ml-auto\",\n              children: [all, \" b\\xE0i vi\\u1EBFt\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"text-gray-500 bx bx-right-arrow-alt ml-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), topics.map(topic => /*#__PURE__*/_jsxDEV(Link, {\n        onClick: () => handleFilter(\"?topic=\" + topic._id),\n        value: \"topic=\" + topic._id,\n        children: /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"px-1 py-4 border-b border-t border-white hover:border-gray-200 transition duration-300\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            className: \"flex items-center text-gray-600 cursor-pointer\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"inline-block h-4 w-4 bg-pink-400 mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 30\n            }, this), topic.name, /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500 ml-auto\",\n              value: topic._id,\n              children: [numPostByTopic.find(_ => _._id === topic._id) && numPostByTopic.find(_ => _._id === topic._id).count || 0, \" b\\xE0i vi\\u1EBFt\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"text-gray-500 bx bx-right-arrow-alt ml-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 30\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)\n      }, topic._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(FilterPost, \"QCkc168HkDt2y2k+/PiLO/uDq6Q=\", false, function () {\n  return [useHistory];\n});\n\n_c = FilterPost;\nexport default FilterPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilterPost\");","map":{"version":3,"sources":["C:/Users/MyPC/Desktop/tlcn/client/src/components/mainpages/posts/FilterPost.js"],"names":["React","useContext","useEffect","GlobalState","Link","useHistory","axios","FilterPost","state","posts","setPosts","myPostsAPI","topics","topicsAPI","all","setALL","numPostByTopic","setNumPostByTopic","history","handleFilter","text","res","get","data","push","map","topic","_id","name","find","_","count"],"mappings":"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","sourcesContent":["import React,{useContext,useEffect} from 'react';\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport { Link,useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nfunction FilterPost() {\r\n    const state = useContext(GlobalState)\r\n    const [posts, setPosts] = state.myPostsAPI.posts\r\n    const [topics] = state.topicsAPI.topics\r\n    const [all, setALL] = state.myPostsAPI.all\r\n    const [numPostByTopic, setNumPostByTopic] = state.myPostsAPI.numPostByTopic\r\n    const history = useHistory()\r\n\r\n    \r\n\r\n\r\n\r\n    const handleFilter = async (text) => {\r\n/*         if(location !== '/news')\r\n        {\r\n            localStorage.setItem('text', text)\r\n            window.location.href = \"/news\";\r\n        }\r\n        else if(location === '/news'){\r\n            localStorage.removeItem('text')\r\n            setFilter(text)\r\n            console.log({filter})\r\n            console.log({text})\r\n        } */\r\n\r\n        const res = await axios.get(`/api/posts${text}`)\r\n        setPosts(res.data.posts)\r\n        history.push(\"/news\")\r\n\r\n    }\r\n\r\n/*     const handleFilterAll = async (text) => {\r\n        if(location === '/news')\r\n        {\r\n            localStorage.removeItem('text')\r\n            setFilter(text)\r\n            console.log({filter})\r\n            console.log({text})\r\n        }\r\n    } */\r\n    return (\r\n        <>\r\n        <h1 className='mt-20 text-4xl'>Chuyên mục</h1>\r\n        <ul className=\"px-4 py-6 bg-white rounded-lg shadow-md\">\r\n        <Link onClick={() => handleFilter(\"\")}>\r\n            <li className=\"px-1 py-4 border-b border-t border-white hover:border-gray-200 transition duration-300\">\r\n                <Link className=\"flex items-center text-gray-600 cursor-pointer\">\r\n                    <span className=\"inline-block h-4 w-4 bg-pink-400 mr-3\" />\r\n                    Tất cả bài viết\r\n                    <span className=\"text-gray-500 ml-auto\">{all} bài viết</span>\r\n                    <i className=\"text-gray-500 bx bx-right-arrow-alt ml-1\" />\r\n                </Link>\r\n           </li>\r\n        </Link>\r\n                            \r\n        {\r\n            topics.map(topic => (\r\n                <Link onClick={() => handleFilter(\"?topic=\"+topic._id)}  value={\"topic=\" + topic._id} key={topic._id}>\r\n                    <li className=\"px-1 py-4 border-b border-t border-white hover:border-gray-200 transition duration-300\">\r\n                        <Link className=\"flex items-center text-gray-600 cursor-pointer\">\r\n                             <span className=\"inline-block h-4 w-4 bg-pink-400 mr-3\" />\r\n                                {topic.name}\r\n                             <span className=\"text-gray-500 ml-auto\" value={topic._id}>{numPostByTopic.find(_=>_._id === topic._id) && numPostByTopic.find(_=>_._id === topic._id).count || 0} bài viết</span>\r\n                             <i className=\"text-gray-500 bx bx-right-arrow-alt ml-1\" />\r\n                        </Link>\r\n                    </li>\r\n                </Link>\r\n            ))\r\n         }\r\n        </ul>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default FilterPost;"]},"metadata":{},"sourceType":"module"}