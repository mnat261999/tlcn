{"ast":null,"code":"!function (t, e) {\n  if (\"object\" == typeof exports && \"object\" == typeof module) module.exports = e();else if (\"function\" == typeof define && define.amd) define([], e);else {\n    var r = e();\n\n    for (var n in r) (\"object\" == typeof exports ? exports : t)[n] = r[n];\n  }\n}(window, function () {\n  return function (t) {\n    var e = {};\n\n    function r(n) {\n      if (e[n]) return e[n].exports;\n      var o = e[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return t[n].call(o.exports, o, o.exports, r), o.l = !0, o.exports;\n    }\n\n    return r.m = t, r.c = e, r.d = function (t, e, n) {\n      r.o(t, e) || Object.defineProperty(t, e, {\n        enumerable: !0,\n        get: n\n      });\n    }, r.r = function (t) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n    }, r.t = function (t, e) {\n      if (1 & e && (t = r(t)), 8 & e) return t;\n      if (4 & e && \"object\" == typeof t && t && t.__esModule) return t;\n      var n = Object.create(null);\n      if (r.r(n), Object.defineProperty(n, \"default\", {\n        enumerable: !0,\n        value: t\n      }), 2 & e && \"string\" != typeof t) for (var o in t) r.d(n, o, function (e) {\n        return t[e];\n      }.bind(null, o));\n      return n;\n    }, r.n = function (t) {\n      var e = t && t.__esModule ? function () {\n        return t.default;\n      } : function () {\n        return t;\n      };\n      return r.d(e, \"a\", e), e;\n    }, r.o = function (t, e) {\n      return Object.prototype.hasOwnProperty.call(t, e);\n    }, r.p = \"/dist/\", r(r.s = 6);\n  }([function (t, e, r) {\n    t.exports = r(7);\n  }, function (t, e) {\n    function r(t, e, r, n, o, i, a) {\n      try {\n        var u = t[i](a),\n            s = u.value;\n      } catch (t) {\n        return void r(t);\n      }\n\n      u.done ? e(s) : Promise.resolve(s).then(n, o);\n    }\n\n    t.exports = function (t) {\n      return function () {\n        var e = this,\n            n = arguments;\n        return new Promise(function (o, i) {\n          var a = t.apply(e, n);\n\n          function u(t) {\n            r(a, o, i, u, s, \"next\", t);\n          }\n\n          function s(t) {\n            r(a, o, i, u, s, \"throw\", t);\n          }\n\n          u(void 0);\n        });\n      };\n    }, t.exports.default = t.exports, t.exports.__esModule = !0;\n  }, function (t, e) {\n    t.exports = function (t, e) {\n      if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\");\n    }, t.exports.default = t.exports, t.exports.__esModule = !0;\n  }, function (t, e) {\n    function r(t, e) {\n      for (var r = 0; r < e.length; r++) {\n        var n = e[r];\n        n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);\n      }\n    }\n\n    t.exports = function (t, e, n) {\n      return e && r(t.prototype, e), n && r(t, n), t;\n    }, t.exports.default = t.exports, t.exports.__esModule = !0;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    r.r(e), r.d(e, \"file2b64\", function () {\n      return u;\n    });\n    var n = r(1),\n        o = r.n(n),\n        i = r(0),\n        a = r.n(i);\n\n    function u(t) {\n      return s.apply(this, arguments);\n    }\n\n    function s() {\n      return (s = o()(a.a.mark(function t(e) {\n        var r, n;\n        return a.a.wrap(function (t) {\n          for (;;) switch (t.prev = t.next) {\n            case 0:\n              return r = new FileReader(), n = new Promise(function (t) {\n                r.addEventListener(\"load\", function () {\n                  var e = r.result;\n                  t(e);\n                }, !1);\n              }), r.readAsDataURL(e), t.abrupt(\"return\", n);\n\n            case 4:\n            case \"end\":\n              return t.stop();\n          }\n        }, t);\n      }))).apply(this, arguments);\n    }\n  }, function (t, e, r) {\n    var n = r(10),\n        o = r(11),\n        i = r(12),\n        a = r(14);\n    t.exports = function (t, e) {\n      return n(t) || o(t, e) || i(t, e) || a();\n    }, t.exports.default = t.exports, t.exports.__esModule = !0;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    r.r(e), r.d(e, \"imageCompressor\", function () {\n      return m;\n    });\n    var n = r(1),\n        o = r.n(n),\n        i = r(2),\n        a = r.n(i),\n        u = r(3),\n        s = r.n(u),\n        c = r(0),\n        l = r.n(c);\n\n    var f = !0,\n        h = {\n      prefixString: function () {\n        return \"</> quill-image-compress: \";\n      },\n\n      get log() {\n        return f ? console.log.bind(console, this.prefixString()) : function () {};\n      },\n\n      get error() {\n        return console.error.bind(console, this.prefixString());\n      },\n\n      get warn() {\n        return console.warn.bind(console, this.prefixString());\n      }\n\n    },\n        p = r(8).ImageDrop,\n        d = r(4).file2b64,\n        g = r(9).downscaleImage,\n        m = function () {\n      function t(e, r) {\n        var n = this;\n        a()(this, t), this.quill = e, this.range = null, this.options = r, f = r && r.debug;\n\n        var i = function () {\n          var t = o()(l.a.mark(function t(e) {\n            var r;\n            return l.a.wrap(function (t) {\n              for (;;) switch (t.prev = t.next) {\n                case 0:\n                  return h.log(\"onImageDrop\", {\n                    dataUrl: e\n                  }), t.next = 3, n.downscaleImageFromUrl(e);\n\n                case 3:\n                  r = t.sent, n.insertToEditor(r);\n\n                case 5:\n                case \"end\":\n                  return t.stop();\n              }\n            }, t);\n          }));\n          return function (e) {\n            return t.apply(this, arguments);\n          };\n        }();\n\n        this.imageDrop = new p(e, i, h), function (t) {\n          t.maxWidth = t.maxWidth || 1e3, t.maxHeight = t.maxHeight || 1e3, t.maxWidth && \"number\" != typeof t.maxWidth && (h.warn(\"[config error] 'maxWidth' is required to be a \\\"number\\\" (in pixels), \\nrecieved: \".concat(t.maxWidth, \"\\n-> using default 1000\")), t.maxWidth = 1e3), t.maxHeight && \"number\" != typeof t.maxHeight && (h.warn(\"[config error] 'maxHeight' is required to be a \\\"number\\\" (in pixels), \\nrecieved: \".concat(t.maxHeight, \"\\n-> using default 1000\")), t.maxHeight = 1e3), t.quality && \"number\" != typeof t.quality && (h.warn(\"quill.imageCompressor: [config error] 'quality' is required to be a \\\"number\\\", \\nrecieved: \".concat(t.quality, \"\\n-> using default 0.7\")), t.quality = .7), !t.imageType || \"string\" == typeof t.imageType && t.imageType.startsWith(\"image/\") || (h.warn('quill.imageCompressor: [config error] \\'imageType\\' is required be in the form of \"image/png\" or \"image/jpeg\" etc ..., \\nrecieved: '.concat(t.imageType, \"\\n-> using default image/jpeg\")), t.imageType = \"image/jpeg\");\n        }(r), h.log(\"fileChanged\", {\n          options: r,\n          quill: e,\n          debug: f\n        });\n        var u = this.quill.getModule(\"toolbar\");\n        u ? u.addHandler(\"image\", function () {\n          return n.selectLocalImage();\n        }) : h.error(\"Quill toolbar module not found! need { toolbar: // options } in Quill.modules for image icon to sit in\");\n      }\n\n      var e, r;\n      return s()(t, [{\n        key: \"selectLocalImage\",\n        value: function () {\n          var t = this;\n          this.range = this.quill.getSelection(), this.fileHolder = document.createElement(\"input\"), this.fileHolder.setAttribute(\"type\", \"file\"), this.fileHolder.setAttribute(\"accept\", \"image/*\"), this.fileHolder.setAttribute(\"style\", \"visibility:hidden\"), this.fileHolder.onchange = function () {\n            return t.fileChanged();\n          }, document.body.appendChild(this.fileHolder), this.fileHolder.click(), window.requestAnimationFrame(function () {\n            document.body.removeChild(t.fileHolder);\n          });\n        }\n      }, {\n        key: \"fileChanged\",\n        value: (r = o()(l.a.mark(function t() {\n          var e, r, n;\n          return l.a.wrap(function (t) {\n            for (;;) switch (t.prev = t.next) {\n              case 0:\n                if (e = this.fileHolder.files[0], h.log(\"fileChanged\", {\n                  file: e\n                }), e) {\n                  t.next = 4;\n                  break;\n                }\n\n                return t.abrupt(\"return\");\n\n              case 4:\n                return t.next = 6, d(e);\n\n              case 6:\n                return r = t.sent, t.next = 9, this.downscaleImageFromUrl(r);\n\n              case 9:\n                n = t.sent, this.insertToEditor(n);\n\n              case 11:\n              case \"end\":\n                return t.stop();\n            }\n          }, t, this);\n        })), function () {\n          return r.apply(this, arguments);\n        })\n      }, {\n        key: \"downscaleImageFromUrl\",\n        value: (e = o()(l.a.mark(function t(e) {\n          var r, n;\n          return l.a.wrap(function (t) {\n            for (;;) switch (t.prev = t.next) {\n              case 0:\n                return r = h, t.next = 3, g(e, this.options.maxWidth, this.options.maxHeight, this.options.imageType, this.options.quality, r);\n\n              case 3:\n                return n = t.sent, h.log(\"downscaleImageFromUrl\", {\n                  dataUrl: e,\n                  dataUrlCompressed: n\n                }), t.abrupt(\"return\", n);\n\n              case 6:\n              case \"end\":\n                return t.stop();\n            }\n          }, t, this);\n        })), function (t) {\n          return e.apply(this, arguments);\n        })\n      }, {\n        key: \"insertToEditor\",\n        value: function (t) {\n          h.log(\"insertToEditor\", {\n            url: t\n          }), this.range = this.quill.getSelection();\n          var e = this.range;\n          this.logFileSize(t), this.quill.insertEmbed(e.index, \"image\", \"\".concat(t), \"user\"), e.index++, this.quill.setSelection(e, \"api\");\n        }\n      }, {\n        key: \"logFileSize\",\n        value: function (t) {\n          var e = (Math.round(3 * (t.length - \"data:image/png;base64,\".length) / 4) / 1024).toFixed(0);\n          h.log(\"estimated img size: \" + e + \" kb\");\n        }\n      }]), t;\n    }();\n\n    window.imageCompressor = m, e.default = m;\n  }, function (t, e, r) {\n    var n = function (t) {\n      \"use strict\";\n\n      var e = Object.prototype,\n          r = e.hasOwnProperty,\n          n = \"function\" == typeof Symbol ? Symbol : {},\n          o = n.iterator || \"@@iterator\",\n          i = n.asyncIterator || \"@@asyncIterator\",\n          a = n.toStringTag || \"@@toStringTag\";\n\n      function u(t, e, r) {\n        return Object.defineProperty(t, e, {\n          value: r,\n          enumerable: !0,\n          configurable: !0,\n          writable: !0\n        }), t[e];\n      }\n\n      try {\n        u({}, \"\");\n      } catch (t) {\n        u = function (t, e, r) {\n          return t[e] = r;\n        };\n      }\n\n      function s(t, e, r, n) {\n        var o = e && e.prototype instanceof f ? e : f,\n            i = Object.create(o.prototype),\n            a = new E(n || []);\n        return i._invoke = function (t, e, r) {\n          var n = \"suspendedStart\";\n          return function (o, i) {\n            if (\"executing\" === n) throw new Error(\"Generator is already running\");\n\n            if (\"completed\" === n) {\n              if (\"throw\" === o) throw i;\n              return j();\n            }\n\n            for (r.method = o, r.arg = i;;) {\n              var a = r.delegate;\n\n              if (a) {\n                var u = w(a, r);\n\n                if (u) {\n                  if (u === l) continue;\n                  return u;\n                }\n              }\n\n              if (\"next\" === r.method) r.sent = r._sent = r.arg;else if (\"throw\" === r.method) {\n                if (\"suspendedStart\" === n) throw n = \"completed\", r.arg;\n                r.dispatchException(r.arg);\n              } else \"return\" === r.method && r.abrupt(\"return\", r.arg);\n              n = \"executing\";\n              var s = c(t, e, r);\n\n              if (\"normal\" === s.type) {\n                if (n = r.done ? \"completed\" : \"suspendedYield\", s.arg === l) continue;\n                return {\n                  value: s.arg,\n                  done: r.done\n                };\n              }\n\n              \"throw\" === s.type && (n = \"completed\", r.method = \"throw\", r.arg = s.arg);\n            }\n          };\n        }(t, r, a), i;\n      }\n\n      function c(t, e, r) {\n        try {\n          return {\n            type: \"normal\",\n            arg: t.call(e, r)\n          };\n        } catch (t) {\n          return {\n            type: \"throw\",\n            arg: t\n          };\n        }\n      }\n\n      t.wrap = s;\n      var l = {};\n\n      function f() {}\n\n      function h() {}\n\n      function p() {}\n\n      var d = {};\n\n      d[o] = function () {\n        return this;\n      };\n\n      var g = Object.getPrototypeOf,\n          m = g && g(g(L([])));\n      m && m !== e && r.call(m, o) && (d = m);\n      var v = p.prototype = f.prototype = Object.create(d);\n\n      function y(t) {\n        [\"next\", \"throw\", \"return\"].forEach(function (e) {\n          u(t, e, function (t) {\n            return this._invoke(e, t);\n          });\n        });\n      }\n\n      function x(t, e) {\n        var n;\n\n        this._invoke = function (o, i) {\n          function a() {\n            return new e(function (n, a) {\n              !function n(o, i, a, u) {\n                var s = c(t[o], t, i);\n\n                if (\"throw\" !== s.type) {\n                  var l = s.arg,\n                      f = l.value;\n                  return f && \"object\" == typeof f && r.call(f, \"__await\") ? e.resolve(f.__await).then(function (t) {\n                    n(\"next\", t, a, u);\n                  }, function (t) {\n                    n(\"throw\", t, a, u);\n                  }) : e.resolve(f).then(function (t) {\n                    l.value = t, a(l);\n                  }, function (t) {\n                    return n(\"throw\", t, a, u);\n                  });\n                }\n\n                u(s.arg);\n              }(o, i, n, a);\n            });\n          }\n\n          return n = n ? n.then(a, a) : a();\n        };\n      }\n\n      function w(t, e) {\n        var r = t.iterator[e.method];\n\n        if (void 0 === r) {\n          if (e.delegate = null, \"throw\" === e.method) {\n            if (t.iterator.return && (e.method = \"return\", e.arg = void 0, w(t, e), \"throw\" === e.method)) return l;\n            e.method = \"throw\", e.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n          }\n\n          return l;\n        }\n\n        var n = c(r, t.iterator, e.arg);\n        if (\"throw\" === n.type) return e.method = \"throw\", e.arg = n.arg, e.delegate = null, l;\n        var o = n.arg;\n        return o ? o.done ? (e[t.resultName] = o.value, e.next = t.nextLoc, \"return\" !== e.method && (e.method = \"next\", e.arg = void 0), e.delegate = null, l) : o : (e.method = \"throw\", e.arg = new TypeError(\"iterator result is not an object\"), e.delegate = null, l);\n      }\n\n      function b(t) {\n        var e = {\n          tryLoc: t[0]\n        };\n        1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n      }\n\n      function _(t) {\n        var e = t.completion || {};\n        e.type = \"normal\", delete e.arg, t.completion = e;\n      }\n\n      function E(t) {\n        this.tryEntries = [{\n          tryLoc: \"root\"\n        }], t.forEach(b, this), this.reset(!0);\n      }\n\n      function L(t) {\n        if (t) {\n          var e = t[o];\n          if (e) return e.call(t);\n          if (\"function\" == typeof t.next) return t;\n\n          if (!isNaN(t.length)) {\n            var n = -1,\n                i = function e() {\n              for (; ++n < t.length;) if (r.call(t, n)) return e.value = t[n], e.done = !1, e;\n\n              return e.value = void 0, e.done = !0, e;\n            };\n\n            return i.next = i;\n          }\n        }\n\n        return {\n          next: j\n        };\n      }\n\n      function j() {\n        return {\n          value: void 0,\n          done: !0\n        };\n      }\n\n      return h.prototype = v.constructor = p, p.constructor = h, h.displayName = u(p, a, \"GeneratorFunction\"), t.isGeneratorFunction = function (t) {\n        var e = \"function\" == typeof t && t.constructor;\n        return !!e && (e === h || \"GeneratorFunction\" === (e.displayName || e.name));\n      }, t.mark = function (t) {\n        return Object.setPrototypeOf ? Object.setPrototypeOf(t, p) : (t.__proto__ = p, u(t, a, \"GeneratorFunction\")), t.prototype = Object.create(v), t;\n      }, t.awrap = function (t) {\n        return {\n          __await: t\n        };\n      }, y(x.prototype), x.prototype[i] = function () {\n        return this;\n      }, t.AsyncIterator = x, t.async = function (e, r, n, o, i) {\n        void 0 === i && (i = Promise);\n        var a = new x(s(e, r, n, o), i);\n        return t.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n          return t.done ? t.value : a.next();\n        });\n      }, y(v), u(v, a, \"Generator\"), v[o] = function () {\n        return this;\n      }, v.toString = function () {\n        return \"[object Generator]\";\n      }, t.keys = function (t) {\n        var e = [];\n\n        for (var r in t) e.push(r);\n\n        return e.reverse(), function r() {\n          for (; e.length;) {\n            var n = e.pop();\n            if (n in t) return r.value = n, r.done = !1, r;\n          }\n\n          return r.done = !0, r;\n        };\n      }, t.values = L, E.prototype = {\n        constructor: E,\n        reset: function (t) {\n          if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(_), !t) for (var e in this) \"t\" === e.charAt(0) && r.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = void 0);\n        },\n        stop: function () {\n          this.done = !0;\n          var t = this.tryEntries[0].completion;\n          if (\"throw\" === t.type) throw t.arg;\n          return this.rval;\n        },\n        dispatchException: function (t) {\n          if (this.done) throw t;\n          var e = this;\n\n          function n(r, n) {\n            return a.type = \"throw\", a.arg = t, e.next = r, n && (e.method = \"next\", e.arg = void 0), !!n;\n          }\n\n          for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n            var i = this.tryEntries[o],\n                a = i.completion;\n            if (\"root\" === i.tryLoc) return n(\"end\");\n\n            if (i.tryLoc <= this.prev) {\n              var u = r.call(i, \"catchLoc\"),\n                  s = r.call(i, \"finallyLoc\");\n\n              if (u && s) {\n                if (this.prev < i.catchLoc) return n(i.catchLoc, !0);\n                if (this.prev < i.finallyLoc) return n(i.finallyLoc);\n              } else if (u) {\n                if (this.prev < i.catchLoc) return n(i.catchLoc, !0);\n              } else {\n                if (!s) throw new Error(\"try statement without catch or finally\");\n                if (this.prev < i.finallyLoc) return n(i.finallyLoc);\n              }\n            }\n          }\n        },\n        abrupt: function (t, e) {\n          for (var n = this.tryEntries.length - 1; n >= 0; --n) {\n            var o = this.tryEntries[n];\n\n            if (o.tryLoc <= this.prev && r.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n              var i = o;\n              break;\n            }\n          }\n\n          i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n          var a = i ? i.completion : {};\n          return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, l) : this.complete(a);\n        },\n        complete: function (t, e) {\n          if (\"throw\" === t.type) throw t.arg;\n          return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), l;\n        },\n        finish: function (t) {\n          for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n            var r = this.tryEntries[e];\n            if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), _(r), l;\n          }\n        },\n        catch: function (t) {\n          for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n            var r = this.tryEntries[e];\n\n            if (r.tryLoc === t) {\n              var n = r.completion;\n\n              if (\"throw\" === n.type) {\n                var o = n.arg;\n\n                _(r);\n              }\n\n              return o;\n            }\n          }\n\n          throw new Error(\"illegal catch attempt\");\n        },\n        delegateYield: function (t, e, r) {\n          return this.delegate = {\n            iterator: L(t),\n            resultName: e,\n            nextLoc: r\n          }, \"next\" === this.method && (this.arg = void 0), l;\n        }\n      }, t;\n    }(t.exports);\n\n    try {\n      regeneratorRuntime = n;\n    } catch (t) {\n      Function(\"r\", \"regeneratorRuntime = r\")(n);\n    }\n  }, function (t, e, r) {\n    \"use strict\";\n\n    r.r(e), r.d(e, \"ImageDrop\", function () {\n      return h;\n    });\n\n    var n = r(1),\n        o = r.n(n),\n        i = r(2),\n        a = r.n(i),\n        u = r(3),\n        s = r.n(u),\n        c = r(0),\n        l = r.n(c),\n        f = r(4).file2b64,\n        h = function () {\n      function t(e, r, n) {\n        var o = this;\n        a()(this, t), this.logger = n, this.quill = e, this.onNewDataUrl = r, this.quill.root.addEventListener(\"drop\", function (t) {\n          return o.handleDrop(t);\n        }, !1), this.quill.root.addEventListener(\"paste\", function (t) {\n          return o.handlePaste(t);\n        }, !1);\n      }\n\n      var e;\n      return s()(t, [{\n        key: \"handleNewImageFiles\",\n        value: (e = o()(l.a.mark(function t(e) {\n          var r, n, o;\n          return l.a.wrap(function (t) {\n            for (;;) switch (t.prev = t.next) {\n              case 0:\n                if (Array.isArray(e)) {\n                  t.next = 2;\n                  break;\n                }\n\n                return t.abrupt(\"return\");\n\n              case 2:\n                if (r = e.pop()) {\n                  t.next = 5;\n                  break;\n                }\n\n                return t.abrupt(\"return\");\n\n              case 5:\n                return n = r.getAsFile ? r.getAsFile() : r, t.next = 8, f(n);\n\n              case 8:\n                o = t.sent, this.logger.log(\"handlePaste\", {\n                  base64ImageSrc: o\n                }), this.onNewDataUrl(o);\n\n              case 11:\n              case \"end\":\n                return t.stop();\n            }\n          }, t, this);\n        })), function (t) {\n          return e.apply(this, arguments);\n        })\n      }, {\n        key: \"handleDrop\",\n        value: function (t) {\n          t.preventDefault();\n          var e = t.dataTransfer && t.dataTransfer.files && t.dataTransfer.files.length;\n\n          if (this.logger.log(\"handleDrop\", {\n            hasFiles: e\n          }), e) {\n            if (document.caretRangeFromPoint) {\n              var r = document.getSelection(),\n                  n = document.caretRangeFromPoint(t.clientX, t.clientY);\n              r && n && r.setBaseAndExtent(n.startContainer, n.startOffset, n.startContainer, n.startOffset);\n            }\n\n            var o = this.getImageFiles(t.dataTransfer.files);\n            this.handleNewImageFiles(o);\n          }\n        }\n      }, {\n        key: \"handlePaste\",\n        value: function (t) {\n          var e = t.clipboardData && t.clipboardData.items && !!t.clipboardData.items.length;\n\n          if (this.logger.log(\"handlePaste\", {\n            hasItems: e\n          }), e) {\n            var r = this.getImageFiles(t.clipboardData.items);\n            0 !== r.length && (Array.from(t.clipboardData.items).some(function (t) {\n              return \"text/html\" === t.type;\n            }) ? this.logger.log(\"detected html, not handling\") : (t.preventDefault(), this.handleNewImageFiles(r)));\n          }\n        }\n      }, {\n        key: \"getImageFiles\",\n        value: function (t) {\n          var e = Array.from(t);\n          return this.logger.log(\"readFiles\", {\n            files: e\n          }), e.filter(function (t) {\n            return !!t.type.match(/^image\\/(gif|jpe?g|a?png|svg|webp|bmp|vnd\\.microsoft\\.icon)/i);\n          }) || [];\n        }\n      }]), t;\n    }();\n  }, function (t, e, r) {\n    \"use strict\";\n\n    r.r(e), r.d(e, \"downscaleImage\", function () {\n      return c;\n    });\n    var n = r(5),\n        o = r.n(n),\n        i = r(1),\n        a = r.n(i),\n        u = r(0),\n        s = r.n(u);\n\n    function c(t, e, r, n, o, i) {\n      return l.apply(this, arguments);\n    }\n\n    function l() {\n      return (l = a()(s.a.mark(function t(e, r, n, i, a, u) {\n        var c, l, h, p, d, g, m;\n        return s.a.wrap(function (t) {\n          for (;;) switch (t.prev = t.next) {\n            case 0:\n              return i = i || \"image/jpeg\", a = a || .7, (c = new Image()).src = e, t.next = 6, new Promise(function (t) {\n                c.onload = function () {\n                  t();\n                };\n              });\n\n            case 6:\n              return l = f(c.width, c.height, r, n), h = o()(l, 2), p = h[0], d = h[1], (g = document.createElement(\"canvas\")).width = p, g.height = d, g.getContext(\"2d\").drawImage(c, 0, 0, p, d), m = g.toDataURL(i, a), u.log(\"downscaling image...\", {\n                args: {\n                  dataUrl: e,\n                  maxWidth: r,\n                  maxHeight: n,\n                  imageType: i,\n                  imageQuality: a\n                },\n                newHeight: d,\n                newWidth: p\n              }), t.abrupt(\"return\", m);\n\n            case 15:\n            case \"end\":\n              return t.stop();\n          }\n        }, t);\n      }))).apply(this, arguments);\n    }\n\n    function f(t, e, r, n) {\n      if (t <= r && e <= n) return [t, e];\n\n      if (t > r) {\n        var o = r,\n            i = Math.floor(e / t * o);\n\n        if (i > n) {\n          var a = n;\n          return [Math.floor(t / e * a), a];\n        }\n\n        return [o, i];\n      }\n\n      if (e > n) {\n        var u = n;\n        return [Math.floor(t / e * u), u];\n      }\n    }\n  }, function (t, e) {\n    t.exports = function (t) {\n      if (Array.isArray(t)) return t;\n    }, t.exports.default = t.exports, t.exports.__esModule = !0;\n  }, function (t, e) {\n    t.exports = function (t, e) {\n      if (\"undefined\" != typeof Symbol && Symbol.iterator in Object(t)) {\n        var r = [],\n            n = !0,\n            o = !1,\n            i = void 0;\n\n        try {\n          for (var a, u = t[Symbol.iterator](); !(n = (a = u.next()).done) && (r.push(a.value), !e || r.length !== e); n = !0);\n        } catch (t) {\n          o = !0, i = t;\n        } finally {\n          try {\n            n || null == u.return || u.return();\n          } finally {\n            if (o) throw i;\n          }\n        }\n\n        return r;\n      }\n    }, t.exports.default = t.exports, t.exports.__esModule = !0;\n  }, function (t, e, r) {\n    var n = r(13);\n    t.exports = function (t, e) {\n      if (t) {\n        if (\"string\" == typeof t) return n(t, e);\n        var r = Object.prototype.toString.call(t).slice(8, -1);\n        return \"Object\" === r && t.constructor && (r = t.constructor.name), \"Map\" === r || \"Set\" === r ? Array.from(t) : \"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? n(t, e) : void 0;\n      }\n    }, t.exports.default = t.exports, t.exports.__esModule = !0;\n  }, function (t, e) {\n    t.exports = function (t, e) {\n      (null == e || e > t.length) && (e = t.length);\n\n      for (var r = 0, n = new Array(e); r < e; r++) n[r] = t[r];\n\n      return n;\n    }, t.exports.default = t.exports, t.exports.__esModule = !0;\n  }, function (t, e) {\n    t.exports = function () {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }, t.exports.default = t.exports, t.exports.__esModule = !0;\n  }]);\n});","map":{"version":3,"sources":["C:/Users/Admin/Desktop/tlcn1/tlcn/client/node_modules/quill-image-compress/dist/quill.imageCompressor.min.js"],"names":["t","e","exports","module","define","amd","r","n","window","o","i","l","call","m","c","d","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","a","u","done","Promise","resolve","then","arguments","apply","TypeError","length","configurable","writable","key","mark","wrap","prev","next","FileReader","addEventListener","result","readAsDataURL","abrupt","stop","f","h","prefixString","log","console","error","warn","ImageDrop","file2b64","g","downscaleImage","quill","range","options","debug","dataUrl","downscaleImageFromUrl","sent","insertToEditor","imageDrop","maxWidth","maxHeight","concat","quality","imageType","startsWith","getModule","addHandler","selectLocalImage","getSelection","fileHolder","document","createElement","setAttribute","onchange","fileChanged","body","appendChild","click","requestAnimationFrame","removeChild","files","file","dataUrlCompressed","url","logFileSize","insertEmbed","index","setSelection","Math","round","toFixed","imageCompressor","iterator","asyncIterator","E","_invoke","Error","j","method","arg","delegate","w","_sent","dispatchException","type","getPrototypeOf","L","v","y","forEach","x","__await","return","resultName","nextLoc","b","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","_","completion","reset","isNaN","constructor","displayName","isGeneratorFunction","name","setPrototypeOf","__proto__","awrap","AsyncIterator","async","toString","keys","reverse","pop","values","charAt","slice","rval","complete","finish","catch","delegateYield","regeneratorRuntime","Function","logger","onNewDataUrl","root","handleDrop","handlePaste","Array","isArray","getAsFile","base64ImageSrc","preventDefault","dataTransfer","hasFiles","caretRangeFromPoint","clientX","clientY","setBaseAndExtent","startContainer","startOffset","getImageFiles","handleNewImageFiles","clipboardData","items","hasItems","from","some","filter","match","Image","src","onload","width","height","getContext","drawImage","toDataURL","args","imageQuality","newHeight","newWidth","floor","test"],"mappings":"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","sourcesContent":["!function(t,e){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)(\"object\"==typeof exports?exports:t)[n]=r[n]}}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"/dist/\",r(r.s=6)}([function(t,e,r){t.exports=r(7)},function(t,e){function r(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function u(t){r(a,o,i,u,s,\"next\",t)}function s(t){r(a,o,i,u,s,\"throw\",t)}u(void 0)}))}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){\"use strict\";r.r(e),r.d(e,\"file2b64\",(function(){return u}));var n=r(1),o=r.n(n),i=r(0),a=r.n(i);function u(t){return s.apply(this,arguments)}function s(){return(s=o()(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new FileReader,n=new Promise((function(t){r.addEventListener(\"load\",(function(){var e=r.result;t(e)}),!1)})),r.readAsDataURL(e),t.abrupt(\"return\",n);case 4:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}},function(t,e,r){var n=r(10),o=r(11),i=r(12),a=r(14);t.exports=function(t,e){return n(t)||o(t,e)||i(t,e)||a()},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){\"use strict\";r.r(e),r.d(e,\"imageCompressor\",(function(){return m}));var n=r(1),o=r.n(n),i=r(2),a=r.n(i),u=r(3),s=r.n(u),c=r(0),l=r.n(c);var f=!0,h={prefixString:function(){return\"</> quill-image-compress: \"},get log(){return f?console.log.bind(console,this.prefixString()):function(){}},get error(){return console.error.bind(console,this.prefixString())},get warn(){return console.warn.bind(console,this.prefixString())}},p=r(8).ImageDrop,d=r(4).file2b64,g=r(9).downscaleImage,m=function(){function t(e,r){var n=this;a()(this,t),this.quill=e,this.range=null,this.options=r,f=r&&r.debug;var i=function(){var t=o()(l.a.mark((function t(e){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h.log(\"onImageDrop\",{dataUrl:e}),t.next=3,n.downscaleImageFromUrl(e);case 3:r=t.sent,n.insertToEditor(r);case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();this.imageDrop=new p(e,i,h),function(t){t.maxWidth=t.maxWidth||1e3,t.maxHeight=t.maxHeight||1e3,t.maxWidth&&\"number\"!=typeof t.maxWidth&&(h.warn(\"[config error] 'maxWidth' is required to be a \\\"number\\\" (in pixels), \\nrecieved: \".concat(t.maxWidth,\"\\n-> using default 1000\")),t.maxWidth=1e3),t.maxHeight&&\"number\"!=typeof t.maxHeight&&(h.warn(\"[config error] 'maxHeight' is required to be a \\\"number\\\" (in pixels), \\nrecieved: \".concat(t.maxHeight,\"\\n-> using default 1000\")),t.maxHeight=1e3),t.quality&&\"number\"!=typeof t.quality&&(h.warn(\"quill.imageCompressor: [config error] 'quality' is required to be a \\\"number\\\", \\nrecieved: \".concat(t.quality,\"\\n-> using default 0.7\")),t.quality=.7),!t.imageType||\"string\"==typeof t.imageType&&t.imageType.startsWith(\"image/\")||(h.warn('quill.imageCompressor: [config error] \\'imageType\\' is required be in the form of \"image/png\" or \"image/jpeg\" etc ..., \\nrecieved: '.concat(t.imageType,\"\\n-> using default image/jpeg\")),t.imageType=\"image/jpeg\")}(r),h.log(\"fileChanged\",{options:r,quill:e,debug:f});var u=this.quill.getModule(\"toolbar\");u?u.addHandler(\"image\",(function(){return n.selectLocalImage()})):h.error(\"Quill toolbar module not found! need { toolbar: // options } in Quill.modules for image icon to sit in\")}var e,r;return s()(t,[{key:\"selectLocalImage\",value:function(){var t=this;this.range=this.quill.getSelection(),this.fileHolder=document.createElement(\"input\"),this.fileHolder.setAttribute(\"type\",\"file\"),this.fileHolder.setAttribute(\"accept\",\"image/*\"),this.fileHolder.setAttribute(\"style\",\"visibility:hidden\"),this.fileHolder.onchange=function(){return t.fileChanged()},document.body.appendChild(this.fileHolder),this.fileHolder.click(),window.requestAnimationFrame((function(){document.body.removeChild(t.fileHolder)}))}},{key:\"fileChanged\",value:(r=o()(l.a.mark((function t(){var e,r,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.fileHolder.files[0],h.log(\"fileChanged\",{file:e}),e){t.next=4;break}return t.abrupt(\"return\");case 4:return t.next=6,d(e);case 6:return r=t.sent,t.next=9,this.downscaleImageFromUrl(r);case 9:n=t.sent,this.insertToEditor(n);case 11:case\"end\":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:\"downscaleImageFromUrl\",value:(e=o()(l.a.mark((function t(e){var r,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=h,t.next=3,g(e,this.options.maxWidth,this.options.maxHeight,this.options.imageType,this.options.quality,r);case 3:return n=t.sent,h.log(\"downscaleImageFromUrl\",{dataUrl:e,dataUrlCompressed:n}),t.abrupt(\"return\",n);case 6:case\"end\":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:\"insertToEditor\",value:function(t){h.log(\"insertToEditor\",{url:t}),this.range=this.quill.getSelection();var e=this.range;this.logFileSize(t),this.quill.insertEmbed(e.index,\"image\",\"\".concat(t),\"user\"),e.index++,this.quill.setSelection(e,\"api\")}},{key:\"logFileSize\",value:function(t){var e=(Math.round(3*(t.length-\"data:image/png;base64,\".length)/4)/1024).toFixed(0);h.log(\"estimated img size: \"+e+\" kb\")}}]),t}();window.imageCompressor=m,e.default=m},function(t,e,r){var n=function(t){\"use strict\";var e=Object.prototype,r=e.hasOwnProperty,n=\"function\"==typeof Symbol?Symbol:{},o=n.iterator||\"@@iterator\",i=n.asyncIterator||\"@@asyncIterator\",a=n.toStringTag||\"@@toStringTag\";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},\"\")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new E(n||[]);return i._invoke=function(t,e,r){var n=\"suspendedStart\";return function(o,i){if(\"executing\"===n)throw new Error(\"Generator is already running\");if(\"completed\"===n){if(\"throw\"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(\"suspendedStart\"===n)throw n=\"completed\",r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);n=\"executing\";var s=c(t,e,r);if(\"normal\"===s.type){if(n=r.done?\"completed\":\"suspendedYield\",s.arg===l)continue;return{value:s.arg,done:r.done}}\"throw\"===s.type&&(n=\"completed\",r.method=\"throw\",r.arg=s.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:\"normal\",arg:t.call(e,r)}}catch(t){return{type:\"throw\",arg:t}}}t.wrap=s;var l={};function f(){}function h(){}function p(){}var d={};d[o]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(L([])));m&&m!==e&&r.call(m,o)&&(d=m);var v=p.prototype=f.prototype=Object.create(d);function y(t){[\"next\",\"throw\",\"return\"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){var n;this._invoke=function(o,i){function a(){return new e((function(n,a){!function n(o,i,a,u){var s=c(t[o],t,i);if(\"throw\"!==s.type){var l=s.arg,f=l.value;return f&&\"object\"==typeof f&&r.call(f,\"__await\")?e.resolve(f.__await).then((function(t){n(\"next\",t,a,u)}),(function(t){n(\"throw\",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n(\"throw\",t,a,u)}))}u(s.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,\"throw\"===e.method){if(t.iterator.return&&(e.method=\"return\",e.arg=void 0,w(t,e),\"throw\"===e.method))return l;e.method=\"throw\",e.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return l}var n=c(r,t.iterator,e.arg);if(\"throw\"===n.type)return e.method=\"throw\",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,\"return\"!==e.method&&(e.method=\"next\",e.arg=void 0),e.delegate=null,l):o:(e.method=\"throw\",e.arg=new TypeError(\"iterator result is not an object\"),e.delegate=null,l)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(b,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=v.constructor=p,p.constructor=h,h.displayName=u(p,a,\"GeneratorFunction\"),t.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===h||\"GeneratorFunction\"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,\"GeneratorFunction\")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(x.prototype),x.prototype[i]=function(){return this},t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(v),u(v,a,\"Generator\"),v[o]=function(){return this},v.toString=function(){return\"[object Generator]\"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)\"t\"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type=\"throw\",a.arg=t,e.next=r,n&&(e.method=\"next\",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if(\"root\"===i.tryLoc)return n(\"end\");if(i.tryLoc<=this.prev){var u=r.call(i,\"catchLoc\"),s=r.call(i,\"finallyLoc\");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error(\"try statement without catch or finally\");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;_(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},\"next\"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function(\"r\",\"regeneratorRuntime = r\")(n)}},function(t,e,r){\"use strict\";r.r(e),r.d(e,\"ImageDrop\",(function(){return h}));var n=r(1),o=r.n(n),i=r(2),a=r.n(i),u=r(3),s=r.n(u),c=r(0),l=r.n(c),f=r(4).file2b64,h=function(){function t(e,r,n){var o=this;a()(this,t),this.logger=n,this.quill=e,this.onNewDataUrl=r,this.quill.root.addEventListener(\"drop\",(function(t){return o.handleDrop(t)}),!1),this.quill.root.addEventListener(\"paste\",(function(t){return o.handlePaste(t)}),!1)}var e;return s()(t,[{key:\"handleNewImageFiles\",value:(e=o()(l.a.mark((function t(e){var r,n,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Array.isArray(e)){t.next=2;break}return t.abrupt(\"return\");case 2:if(r=e.pop()){t.next=5;break}return t.abrupt(\"return\");case 5:return n=r.getAsFile?r.getAsFile():r,t.next=8,f(n);case 8:o=t.sent,this.logger.log(\"handlePaste\",{base64ImageSrc:o}),this.onNewDataUrl(o);case 11:case\"end\":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:\"handleDrop\",value:function(t){t.preventDefault();var e=t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length;if(this.logger.log(\"handleDrop\",{hasFiles:e}),e){if(document.caretRangeFromPoint){var r=document.getSelection(),n=document.caretRangeFromPoint(t.clientX,t.clientY);r&&n&&r.setBaseAndExtent(n.startContainer,n.startOffset,n.startContainer,n.startOffset)}var o=this.getImageFiles(t.dataTransfer.files);this.handleNewImageFiles(o)}}},{key:\"handlePaste\",value:function(t){var e=t.clipboardData&&t.clipboardData.items&&!!t.clipboardData.items.length;if(this.logger.log(\"handlePaste\",{hasItems:e}),e){var r=this.getImageFiles(t.clipboardData.items);0!==r.length&&(Array.from(t.clipboardData.items).some((function(t){return\"text/html\"===t.type}))?this.logger.log(\"detected html, not handling\"):(t.preventDefault(),this.handleNewImageFiles(r)))}}},{key:\"getImageFiles\",value:function(t){var e=Array.from(t);return this.logger.log(\"readFiles\",{files:e}),e.filter((function(t){return!!t.type.match(/^image\\/(gif|jpe?g|a?png|svg|webp|bmp|vnd\\.microsoft\\.icon)/i)}))||[]}}]),t}()},function(t,e,r){\"use strict\";r.r(e),r.d(e,\"downscaleImage\",(function(){return c}));var n=r(5),o=r.n(n),i=r(1),a=r.n(i),u=r(0),s=r.n(u);function c(t,e,r,n,o,i){return l.apply(this,arguments)}function l(){return(l=a()(s.a.mark((function t(e,r,n,i,a,u){var c,l,h,p,d,g,m;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=i||\"image/jpeg\",a=a||.7,(c=new Image).src=e,t.next=6,new Promise((function(t){c.onload=function(){t()}}));case 6:return l=f(c.width,c.height,r,n),h=o()(l,2),p=h[0],d=h[1],(g=document.createElement(\"canvas\")).width=p,g.height=d,g.getContext(\"2d\").drawImage(c,0,0,p,d),m=g.toDataURL(i,a),u.log(\"downscaling image...\",{args:{dataUrl:e,maxWidth:r,maxHeight:n,imageType:i,imageQuality:a},newHeight:d,newWidth:p}),t.abrupt(\"return\",m);case 15:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function f(t,e,r,n){if(t<=r&&e<=n)return[t,e];if(t>r){var o=r,i=Math.floor(e/t*o);if(i>n){var a=n;return[Math.floor(t/e*a),a]}return[o,i]}if(e>n){var u=n;return[Math.floor(t/e*u),u]}}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){var n=r(13);t.exports=function(t,e){if(t){if(\"string\"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===r&&t.constructor&&(r=t.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(t):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")},t.exports.default=t.exports,t.exports.__esModule=!0}])}));"]},"metadata":{},"sourceType":"script"}